<h1>Configuring ey.yml</h1>

<p><code>ey.yml</code> is a file that lives in your application's <code>config/</code> directory. It allows you to customize the deploy process to a limited, but still useful, extent.</p>

<h2>Examples</h2>

<p>All these examples assume your environment is <strong>myapp_staging</strong>. Replace that with your environment's actual name.</p>

<p><strong><em>Don't copy .git directory to each release</em></strong></p>

<p><code>
environments:
 myapp_staging:
   copy_exclude:</code></p>

<pre><code> - .git
</code></pre>



<p>Set a default branch:</p>

<p><code>
environments:
 myapp_staging:
   branch: master
</code></p>

<p>Use thor to run migrations, but only run them when --migrate is specified</p>

<p><code>
environments:
  myapp_staging:</code></p>

<pre><code>migration_command: thor db:migrate
migrate: false
</code></pre>



<h2>Fields of Note</h2>

<p>The engineyard gem pays attention to four keys in the per-environment hash. They are:</p>

<ul><li><p>copy_exclude (array): items that will be excluded when copying from your repository to each release. See rsync(1), in particular the <code>--exclude</code> option, for more details. Default is empty.</p></li>
<li><p>branch (string): the branch to deploy by default. Default is <code>master</code>.</p></li>
<li><p>migration_command (string): the command to invoke in order to run migrations. Default is <code>rake db:migrate</code>.</p></li>
<li><p>migrate (boolean): whether or not to run migrations. Default is <code>true</code>.</p></li>
</ul><h2>Structure</h2>

<p><code>ey.yml</code> is a YAML file containing a single top-level hash called "environments". Its keys are environment names, and its values are themselves hashes of settings for that particular environment.</p>